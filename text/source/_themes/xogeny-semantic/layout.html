{% macro itemplate() %}
{% raw -%}
<script id="itemplate" type="text/x-handlebars-template">
  <div class="ui segment tight">
    <div id="plot-wrapper-{{id}}">
      {{{image}}}
    </div>
    <div id="dyn-plot-{{id}}">
    </div>
    <div class="ui fluid accordion">
      <div class="title">
	<i class="dropdown icon"></i>
	Run Interactively
      </div>
      <div class="content">
	A form should go here.  With a button that hides
	#plot-wrapper-{{id}} and puts results in #dyn-plot-{{id}}
	<br>
	<div class="ui mini button" id="sim-button-{{id}}">
	  Simulate
	</div>
      </div>
    </div>
  </div>
</script>
{%- endraw %}
{% endmacro %}

{%- macro navmenu() %}
<div class="ui fixed transparent inverted main menu">
  <div class="left menu">
    <div id="thumb" class="title item">
      <i class="icon list"></i>
    </div>
    {% if prev %}
    <div class="title item">
      <i class="icon left arrow"></i>
      <a href="{{ prev.link|e }}">{{ prev.title }}</a>
    </div>
    {% endif %}
  </div>
  <div id="thumb" class="title item">
    {% if parents==[] %}
    <a class="title-font" href="{{ pathto(master_doc) }}">
      <i class="icon up arrow"></i>
    </a>
    {% else %}
    <a class="title-font" href="{{ parents[-1].link|e  }}">
      <i class="icon up arrow"></i>
    </a>
    {% endif %}
  </div>
  <div class="right menu">
    {% if next %}
    <div class="title item">
      <a href="{{ next.link|e }}">{{ next.title }}</a>
      <i class="icon right arrow"></i>
    </div>
    {% endif %}
  </div>
</div>
{%- endmacro %}

{%- macro sidebar() %}
<div class="sphinxsidebar">
  <div class="sphinxsidebarwrapper">
    <div class="toc">
      <h2>{{ _('Table Of Contents') }}</h2>
      {%- for parent in parents %}
      <ul class="parentul">
	<li>
	  <a class="section" href="{{ parent.link|e }}">{{ parent.title }}</a>
      {%- endfor %}
	  {{ toc }}
      {%- for parent in parents %}
	</li>
      </ul>
      {%- endfor %}
    </div>
  </div>
</div>
{%- endmacro %}

{%- macro fonts() %}
    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700'
	  rel='stylesheet' type='text/css'>
    {# Not sure I need this... #}
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700' rel='stylesheet' type='text/css'>
{%- endmacro %}

{%- macro script() %}
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-33034217-6', 'xogeny.com');
      ga('send', 'pageview');

    </script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '{{ url_root }}',
        VERSION:     '{{ release|e }}',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '{{ '' if no_search_suffix else file_suffix }}',
        HAS_SOURCE:  {{ has_source|lower }}
      };
    </script>
    {%- for scriptfile in script_files %}
    <script type="text/javascript" src="{{ pathto(scriptfile, 1) }}"></script>
    {%- endfor %}
    <script type="text/javascript" src="{{ pathto('_static/semantic/semantic.js', 1) }}">
    </script>
    <script type="text/javascript" src="{{ pathto('_static/handlebars-v1.3.0.js', 1) }}"></script>
    <script type="text/javascript" src="{{ pathto('_static/xogeny.js', 1) }}"></script>
{%- endmacro %}

{%- macro css() %}
    <link rel="stylesheet" type="text/css" class="ui"
	  href="{{ pathto('_static/semantic/semantic.css', 1) }}">
    <link rel="stylesheet" href="{{ pathto('_static/' + style, 1) }}" type="text/css" />
    <link rel="stylesheet" href="{{ pathto('_static/pygments.css', 1) }}" type="text/css" />
    <link rel="stylesheet" href="{{ pathto('_static/tweaks.css', 1) }}" type="text/css" />
    {%- for cssfile in css_files %}
    <link rel="stylesheet" href="{{ pathto(cssfile, 1) }}" type="text/css" />
    {%- endfor %}
{%- endmacro %}

{% if title=="Front Matter" %}
{%- extends "root-page.html" %}
{% else %}
{%- extends "normal-page.html" %}
{% endif %}
